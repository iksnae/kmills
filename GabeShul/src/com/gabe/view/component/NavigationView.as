package com.gabe.view.component{	import com.gabe.control.event.GabeShuEvent;	import com.gabe.model.IStylable;	import com.gabe.model.data.Theme;	import com.gabe.util.AlignUtil;	import com.gabe.view.mediator.DeepLinkMediator;	import com.greensock.plugins.ColorTransformPlugin;	import com.greensock.plugins.TweenPlugin;		import flash.display.MovieClip;	import flash.events.MouseEvent;	import flash.text.TextFormat;
		public class NavigationView extends MovieClip implements IStylable	{		//////////////////////////////////////////////////////////////////////////		//	PRIVATE PROPERTIES													//		//////////////////////////////////////////////////////////////////////////				private var _buttons		:Vector.<NavigationButtonView>;		private var _xspacing		:Number = 10;		private var _xpos			:Number = 0;		private var _font			:NavFont = new NavFont();				private var overStyle0		:TextFormat = new TextFormat(_font.fontName,10,0x999999);		private var outStyle0		:TextFormat = new TextFormat(_font.fontName,10,0x000000);				private var overStyle1		:TextFormat = new TextFormat(_font.fontName,10,0x999999);		private var outStyle1		:TextFormat = new TextFormat(_font.fontName,10,0xffffff);		//////////////////////////////////////////////////////////////////////////		//	PUBLIC PROPERTIES													//		//////////////////////////////////////////////////////////////////////////						public var about_btn		:NavigationButtonView;		public var collections_btn	:NavigationButtonView;		public var lookbook_btn		:NavigationButtonView;		public var press_btn		:NavigationButtonView;		public var stockists_btn	:NavigationButtonView;		public var links_btn		:NavigationButtonView;		public var blog_btn			:NavigationButtonView;		public var art_btn			:NavigationButtonView;		public var contact_btn		:NavigationButtonView;		public var testButton		:NavigationButtonView;		public var cartButton		:NavigationButtonView;				private var _currentStyle:int;								//////////////////////////////////////////////////////////////////////////		//	CONSTRUCTOR															//		//////////////////////////////////////////////////////////////////////////		public function NavigationView()		{			super();			_buttons = new Vector.<NavigationButtonView>();			init();		}				public function get buttons():Vector.<NavigationButtonView>		{			return _buttons;		}		public function changeStyle(id:int):void		{			switch(_currentStyle)			{				case 0:					for each( var b0:NavigationButtonView in _buttons)				{					b0.outStyle = outStyle0;					b0.overStyle = overStyle0;						}					break;				case 1:					for each( var b1:NavigationButtonView in _buttons)				{									b1.outStyle = outStyle1;					b1.overStyle = overStyle1;									}					break;			}		}		public function selectButton(btn:NavigationButtonView):void		{//			trace('select: '+btn)			if(Theme.CURRENT_THEME==0)			{				btn.outStyle = overStyle0;			}			else if(Theme.CURRENT_THEME==1)			{				btn.outStyle = overStyle1;			}		}		public function deselectButton(btn:NavigationButtonView):void		{//			trace('deselect: '+btn)			if(Theme.CURRENT_THEME==0)			{				btn.outStyle = outStyle0;			}			else if(Theme.CURRENT_THEME==1)			{				btn.outStyle = outStyle1;			}		}		private function init():void		{			about_btn 		= new NavigationButtonView('about');			collections_btn = new NavigationButtonView('collections');			art_btn = new NavigationButtonView('artwork');			lookbook_btn 	= new NavigationButtonView('lookbook');			press_btn = new NavigationButtonView('press');			stockists_btn = new NavigationButtonView('stockists');			blog_btn = new NavigationButtonView('blog');			contact_btn = new NavigationButtonView('contact');			links_btn = new NavigationButtonView('links');			testButton= new NavigationButtonView('change theme');			cartButton = new NavigationButtonView('cart');						about_btn.bgAlpha=0;			collections_btn.bgAlpha=0;			lookbook_btn.bgAlpha=0;			press_btn.bgAlpha=0;			stockists_btn.bgAlpha=0;			links_btn.bgAlpha=0;			blog_btn.bgAlpha=0;			art_btn.bgAlpha=0;			contact_btn.bgAlpha=0;			cartButton.bgAlpha=0;									addNavButton(about_btn);			addNavButton(collections_btn);			addNavButton(art_btn);			addNavButton(lookbook_btn);			addNavButton(press_btn);			addNavButton(stockists_btn);			addNavButton(blog_btn);			addNavButton(contact_btn);			addNavButton(links_btn);//			addNavButton(testButton);			addNavButton(cartButton);						AlignUtil.NAV_WIDTH = width;		}		private function addNavButton(btn:NavigationButtonView):void		{						btn.x = _xpos;			btn.addEventListener(MouseEvent.CLICK,		clickHandler);			btn.addEventListener(MouseEvent.MOUSE_OVER,	overHandler);			btn.addEventListener(MouseEvent.MOUSE_OUT,	outHandler);						_buttons.push(btn);			btn.overStyle = overStyle0;			btn.outStyle = outStyle0;						addChild(btn);			_xpos += (btn.width+_xspacing);		}		private var _style:int = 1;		private function clickHandler(e:MouseEvent):void		{			switch(e.currentTarget)			{				case testButton:					if(_style==0)					{						_style=1;					}					else					{						_style=0;					}					GabeShuFacade.getInstance().sendNotification(GabeShuEvent.THEME_CHANGE,_style);					break;				case cartButton://					GabeShuFacade.getInstance().sendNotification(GabeShuEvent.SHOW_CART);					break;			}		}		private function overHandler(e:MouseEvent):void		{			NavigationButtonView(e.currentTarget).over();		}		private function outHandler(e:MouseEvent):void		{//			NavigationButtonView(e.currentTarget).out();		}					}}